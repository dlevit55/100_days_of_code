from menu import Menu, MenuItem
from coffee_maker import CoffeeMaker
from money_machine import MoneyMachine

drink_menu = Menu()
make_drink = CoffeeMaker()
money_calc = MoneyMachine()


keep_drinking = True
while keep_drinking:
    user_choice = input(f"What would you like? :{drink_menu.get_items()} ? ")

    if user_choice == "off":
        keep_drinking = False
    elif user_choice == "report":
        make_drink.report()
        money_calc.report()
    else:
        drink = drink_menu.find_drink(user_choice)
        if make_drink.is_resource_sufficient(drink) and money_calc.make_payment(drink.cost):
            make_drink.make_coffee(drink)

